<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        body {
            background: black;
            text-align: center;
        }

        #c1 {
            background: white;
        }
    </style>
</head>

<body>
    <input type="color" name="" id="color1">
    <canvas id='c1' width="800" height="600">
    </canvas>
    <script>
        let oC = document.getElementById('c1')
        let gd = oC.getContext('2d'); //图形上下文---绘图接口
        let oColor = document.getElementById('color1');
        //路径操作--ps里的选区一样
        // gd.moveTo(100, 100);
        // gd.lineTo(300, 200);
        // gd.lineTo(130, 350);
        // gd.lineTo(100, 100);
        // gd.strokeStyle='blue';
        // gd.stroke();
        // gd.fillStyle='deeppink'
        // gd.fill();
        let color;
        oColor.onchange = function () {
            color = this.value;
        }
        let lastX;
        let lastY;
        oC.onmousedown = function (ev) {
            lastX = ev.offsetX;
            lastY = ev.offsetY;
            oC.onmousemove = function (ev) {
                gd.beginPath();
                gd.moveTo(lastX, lastY);
                gd.lineTo(ev.offsetX, ev.offsetY);
                lastX = ev.offsetX;
                lastY = ev.offsetY;
                gd.strokeStyle = color;
                gd.stroke();
            }
            oC.onmouseup = function () {
                oC.onmousemove = null;
                oC.onmouseup = null;
            }
        }
    </script>
</body>

</html>